[["index.html", "R / Tidyverse 질의응답 들어가며 질문 방법", " R / Tidyverse 질의응답 한국 R 사용자회 2022-04-25 들어가며 SAS/SPSS/미니탭/STATA/가우스 등 통계 패키지를 벗어나 데이터 과학으로 R을 사용하게 되면 stackoverflow, 구글, 네이버 지식인 등 구글링을 통해 문제를 해결하게 되는 경우가 많습니다. R/Tidyverse 관련 질의응답을 책으로 만들어 많이 물어보는 사례를 책으로 묶어 R 사용자들이 코딩으로 인한 고통보다 즐거운 데이터 분석 시간을 많이 갖도록 하는 취지로 시작하게 되었습니다. 한국 R 컨퍼런스: link Seoul R Meetup 웹사이트: link Seoul R Meetup: link Youtube Channel: link Facebook Group: link Global R Meetup: link A list of R conferences and meetings: link 질문 방법 Github qna 저장소 이슈(Issues)에 질문을 남겨주세요. 특히 reprex 패키지 사용해서 관련 내용도 재현가능하게 만들어서 공유해 주시면 큰 도움이 되겠습니다. 도와줘요 - reprex "],["encoding.html", "1 인코딩 1.1 distill 웹사이트 오류", " 1 인코딩 1.1 distill 웹사이트 오류 distill 웹사이트를 제작할 때 발생하는 오류 중 하나가 인코딩(Encoding) 때분에 발생된다. 특히, 윈도우에서 이런 문제가 많은 다행히 R 4.2 버전부터 이런 문제가 완전히 해결되었다. 자세한 사항은 Upcoming Changes in R 4.2 on Windows을 참고한다. 1.1.1 문제 발생 환경 ==&gt; rmarkdown::render_site(encoding = &#39;UTF-8&#39;) Rendering: ./about.Rmd |....................... | 33% ordinary text without R code |............................................... | 67% label: setup (with options) List of 1 $ include: logi FALSE |......................................................................| 100% ordinary text without R code &quot;C:/PROGRA~3/CHOCOL~1/bin/pandoc&quot; +RTS -K512m -RTS about.knit.md --to html5 --from markdown+autolink_bare_uris+tex_math_single_backslash --output about.html --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.0\\rmarkdown\\rmarkdown\\lua\\pagebreak.lua&quot; --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.0\\rmarkdown\\rmarkdown\\lua\\latex-div.lua&quot; --standalone --variable toc-float=1 --highlight-style &quot;C:/Users/statkclee/Documents/R/win-library/4.0/distill/rmarkdown/templates/distill_article/resources/arrow.theme&quot; --template &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.0\\distill\\rmarkdown\\templates\\distill_article\\resources\\default.html&quot; &quot;--metadata=link-citations:true&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c372260e4html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c23bf5568html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c5e3338d3html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c33977afhtml&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c55011736html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246ca1c4598html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c180a7d23html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c4dada52html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c774c4b73html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c405752d2html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\rmarkdown-str246c684b29da.html&quot; --mathjax --variable &quot;mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpQtqLdL\\file246c7001487ehtml&quot; Backtrace: 1. rmarkdown::render_site(encoding = &quot;UTF-8&quot;) 2. generator$render(...) 3. default$render(...) 4. base::sapply(...) 5. base::lapply(X = X, FUN = FUN, ...) ... 7. rmarkdown:::render_one(...) 10. rmarkdown::render(...) 11. rmarkdown:::convert(output_file, run_citeproc) 12. rmarkdown::pandoc_convert(...) 13. rmarkdown:::stop2(...) pandoc.exe: Cannot decode byte &#39;\\xba&#39;: Data.Text.Internal.Encoding.decodeUtf8: Invalid UTF-8 stream Error: pandoc document conversion failed with error 1 Execution halted Exited with status 1. &gt; sessionInfo() R version 4.0.1 (2020-06-06) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 (build 19043) Matrix products: default locale: [1] LC_COLLATE=Korean_Korea.949 LC_CTYPE=Korean_Korea.949 LC_MONETARY=Korean_Korea.949 LC_NUMERIC=C [5] LC_TIME=Korean_Korea.949 attached base packages: [1] stats graphics grDevices utils datasets methods base loaded via a namespace (and not attached): [1] compiler_4.0.1 bookdown_0.23.1 fastmap_1.1.0 htmltools_0.5.2 tools_4.0.1 yaml_2.2.1 rmarkdown_2.11 [8] knitr_1.36 xfun_0.28 digest_0.6.29 rlang_0.4.11 evaluate_0.14 1.1.2 문제 해결 전략 pandoc.exe: Cannot decode byte '\\xba': Data.Text.Internal.Encoding.decodeUtf8: Invalid UTF-8 stream 에서 제시된 인코딩 문제(한글)를 윈도우 환경에서 해결하기 위해 R 4.2 버전으로 올려 해결하는 다음 방식이 권장이 되고 있다. Upcoming Changes in R 4.2 on Windows에 따르면 현재 시점 “2021-12-09” 기준 아직 R 4.2 가 존재하지 않아 가장 최신 R 버전을 설치한다. R 업그레이드 관련 사항은 다음 R 업그레이드와 환경설정, 파일-객체 크기 블로그를 참고한다. UCRT를 설치한다. 윈도우 10 이전 버전의 경우. RTools42 를 설치한다. sessionInfo() R version 4.1.3 (2022-03-10) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 (build 19043) Matrix products: default locale: [1] LC_COLLATE=Korean_Korea.949 LC_CTYPE=Korean_Korea.949 [3] LC_MONETARY=Korean_Korea.949 LC_NUMERIC=C [5] LC_TIME=Korean_Korea.949 attached base packages: [1] stats graphics grDevices utils datasets methods base loaded via a namespace (and not attached): [1] bookdown_0.24 digest_0.6.29 R6_2.5.1 jsonlite_1.8.0 [5] magrittr_2.0.2 evaluate_0.15 stringi_1.7.6 rlang_1.0.2 [9] cli_3.1.0 rstudioapi_0.13 jquerylib_0.1.4 bslib_0.3.1 [13] rmarkdown_2.11 tools_4.1.3 stringr_1.4.0 xfun_0.30 [17] yaml_2.3.5 fastmap_1.1.0 compiler_4.1.3 htmltools_0.5.2 [21] knitr_1.38 sass_0.4.1 1.1.3 해법 결과 R version 4.1.2 (2021-11-01) -- \"Bird Hippie\"으로 버전업을 한 것으로 인코딩 문제는 해결되어 Distill Website를 이어서 제작할 수 있게 되었다. ==&gt; rmarkdown::render_site(encoding = &#39;UTF-8&#39;) Rendering: ./about.Rmd |....................... | 33% ordinary text without R code |............................................... | 67% label: setup (with options) List of 1 $ include: logi FALSE |......................................................................| 100% ordinary text without R code &quot;C:/PROGRA~3/CHOCOL~1/bin/pandoc&quot; +RTS -K512m -RTS about.knit.md --to html5 --from markdown+autolink_bare_uris+tex_math_single_backslash --output about.html --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\pagebreak.lua&quot; --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\latex-div.lua&quot; --standalone --variable toc-float=1 --highlight-style &quot;C:/Users/statkclee/Documents/R/win-library/4.1/distill/rmarkdown/templates/distill_article/resources/arrow.theme&quot; --template &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\distill\\rmarkdown\\templates\\distill_article\\resources\\default.html&quot; &quot;--metadata=link-citations:true&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a83edc7bb9html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a834eb3b01html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a86f714f3dhtml&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a815503ebehtml&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8446679bhtml&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a820ae31f3html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a84594c5html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8412c01html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a82a6a4838html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a81dff7900html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\rmarkdown-str36a85c65588f.html&quot; --mathjax --variable &quot;mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a83cb965c2html&quot; |....................... | 33% ordinary text without R code |............................................... | 67% label: setup (with options) List of 1 $ include: logi FALSE |......................................................................| 100% ordinary text without R code Rendering: ./index.Rmd &quot;C:/PROGRA~3/CHOCOL~1/bin/pandoc&quot; +RTS -K512m -RTS index.knit.md --to html5 --from markdown+autolink_bare_uris+tex_math_single_backslash --output index.html --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\pagebreak.lua&quot; --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\latex-div.lua&quot; --standalone --variable toc-float=1 --highlight-style &quot;C:/Users/statkclee/Documents/R/win-library/4.1/distill/rmarkdown/templates/distill_article/resources/arrow.theme&quot; --template &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\distill\\rmarkdown\\templates\\distill_article\\resources\\default.html&quot; &quot;--metadata=link-citations:true&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a83dac6e1dhtml&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a840a76800html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a856b9c99html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a83884493html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a87977258fhtml&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a83749bb6html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a863f2290dhtml&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a840af79a0html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a830fb1a9html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a87a9433e6html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\rmarkdown-str36a874e464bb.html&quot; --mathjax --variable &quot;mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8da47cfdhtml&quot; |....................... | 33% inline R code fragments |............................................... | 67% label: setup (with options) List of 1 $ include: logi FALSE |......................................................................| 100% ordinary text without R code Rendering: ./learnings.Rmd &quot;C:/PROGRA~3/CHOCOL~1/bin/pandoc&quot; +RTS -K512m -RTS learnings.knit.md --to html5 --from markdown+autolink_bare_uris+tex_math_single_backslash --output learnings.html --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\pagebreak.lua&quot; --lua-filter &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\rmarkdown\\rmarkdown\\lua\\latex-div.lua&quot; --standalone --variable toc-float=1 --highlight-style &quot;C:/Users/statkclee/Documents/R/win-library/4.1/distill/rmarkdown/templates/distill_article/resources/arrow.theme&quot; --template &quot;C:\\Users\\statkclee\\Documents\\R\\win-library\\4.1\\distill\\rmarkdown\\templates\\distill_article\\resources\\default.html&quot; &quot;--metadata=link-citations:true&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8f06526dhtml&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a85ef4eddhtml&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a866444d70html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a838d94d7ehtml&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8f83120html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a82ab67056html&quot; --include-before-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a84494329ahtml&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a8419265a8html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a840cb63d1html&quot; --include-after-body &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a877af1a46html&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\rmarkdown-str36a873563a75.html&quot; --mathjax --variable &quot;mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot; --include-in-header &quot;C:\\Users\\STATKC~1\\AppData\\Local\\Temp\\RtmpI79rFt\\file36a84f244e88html&quot; Output created: docs/index.html Warning messages: 1: In parse(con, keep.source = TRUE, encoding = &quot;UTF-8&quot;, srcfile = srcfile) : argument encoding=&quot;UTF-8&quot; is ignored in MBCS locales 2: In parse(con, keep.source = TRUE, encoding = &quot;UTF-8&quot;, srcfile = srcfile) : argument encoding=&quot;UTF-8&quot; is ignored in MBCS locales 3: In parse(con, keep.source = TRUE, encoding = &quot;UTF-8&quot;, srcfile = srcfile) : argument encoding=&quot;UTF-8&quot; is ignored in MBCS locales "],["github.html", "2 Git, Github 2.1 사설 저장소(Private) 패키지 설치", " 2 Git, Github 2.1 사설 저장소(Private) 패키지 설치 Github 저장소에 공개(Public) 패키지와 사설(Private) 패키지가 존재하는데 사설 패키지를 설치하고자 할 경우 공개 패키지 설치하는 동일한 방식으로 접근할 경우 오류가 생겨 이를 피해 설치하는 방법을 알아보자. 다음 사례는 krvotes 패키지를 설치할 경우 사설 저장소라 바로 설치가 되지 않는 오류가 발생했다. &gt; remotes::install_github(&quot;statkclee/krvotes&quot;) Error: Failed to install &#39;unknown package&#39; from GitHub: HTTP error 404. Not Found Did you spell the repo owner (`statkclee`) and repo name (`krvotes`) correctly? - If spelling is correct, check that you have the required permissions to access the repo. Backtrace: 1. remotes::install_github(&quot;statkclee/krvotes&quot;) 2. remotes:::install_remotes(...) 3. base::tryCatch(...) 4. base:::tryCatchList(expr, classes, parentenv, handlers) 5. base:::tryCatchOne(expr, names, parentenv, handlers[[1L]]) 6. value[[3L]](cond) PAT(Personal Access Token) 생성하는 방법은 다음 GitHub Docs를 참고한다. Creating a personal access token 생성한 PAT 토큰을 devtools::install_github() 함수를 사용해서 실행시키게 되면 원하는 Private 저장소에 저장된 사설 패키지를 설치할 수 있다. devtools::install_github(&quot;statkclee/krvotes&quot;, ref=&quot;master&quot;, auth_token = &quot;ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;) Downloading GitHub repo statkclee/krvotes@master √ checking for file &#39;C:\\Users\\statkclee\\AppData\\Local\\Temp\\RtmpKAmTqa\\remotes56f8207c17b1\\statkclee-krvotes-f94f608dbd0cceb7defc8a4978a7f89cffcb0ee4/DESCRIPTION&#39; ... - preparing &#39;krvotes&#39;: (468ms) √ checking DESCRIPTION meta-information ... - checking for LF line-endings in source and make files and shell scripts - checking for empty or unneeded directories - building &#39;krvotes_0.3.7.tar.gz&#39; Installing package into ‘C:/Users/statkclee/Documents/R/win-library/4.1’ (as ‘lib’ is unspecified) * installing *source* package &#39;krvotes&#39; ... ** using staged installation ** R ** data *** moving datasets to lazyload DB ** byte-compile and prepare package for lazy loading ** help *** installing help indices converting help for package &#39;krvotes&#39; finding HTML links ... done congress_2016 html congress_2020 html demographics_2020 html local_2014 html local_2014_sigungu html local_2018 html local_2018_sigungu html precinct_2016 html president_2012 html president_2017 html ** building package indices ** installing vignettes ** testing if installed package can be loaded from temporary location *** arch - i386 *** arch - x64 ** testing if installed package can be loaded from final location *** arch - i386 *** arch - x64 ** testing if installed package keeps a record of temporary installation path * DONE (krvotes) "],["shapefile-leaflet.html", "3 shapefile을 leaflet 결합 3.1 leaflet 위에 shapefile 오류 1", " 3 shapefile을 leaflet 결합 3.1 leaflet 위에 shapefile 오류 1 대한민국 최신 행정구역(SHP) 다운로드를 다운로드 받아 leaflet과 같은 지도위에 올릴려고 하면 bounding box has potentially an invalid value range for longlat data와 같은 오류가 생겨 실행이 되지 않는 것은 기본이고 shapefile 지도와 기반 leaflet 지도가 별도로 표기되어 원하는 결과를 얻을 수가 없다. library(tidyverse) library(leaflet) library(sf) sido_sf_raw &lt;- sf::read_sf(&quot;data/map/CTPRVN_201311/TL_SCCO_CTPRVN.shp&quot;) sido_sf &lt;- sido_sf_raw %&gt;% mutate(시도명 = iconv(CTP_KOR_NM, from = &quot;CP949&quot;, to = &quot;UTF-8&quot;, toRaw = FALSE)) %&gt;% dplyr::select(-CTP_KOR_NM, -CTP_ENG_NM) sido_sf %&gt;% st_set_crs(4235) %&gt;% leaflet() %&gt;% addTiles() %&gt;% setView(lng=127.7669, lat=35.90776, zoom=6) %&gt;% addProviderTiles(providers$OpenStreetMap) %&gt;% addPolygons(weight = 1,col = &#39;blue&#39;) 1: In sf::st_is_longlat(x) : bounding box has potentially an invalid value range for longlat data 2: sf layer has inconsistent datum (+proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs). Need &#39;+proj=longlat +datum=WGS84&#39; 문제의 원인은 대한민국 최신 행정구역(SHP) 다운로드에 포함된 좌표계와 leaflet 지도와 좌표계가 달라 생기는 문제라 이를 맞춰주면 된다. 대한민국 최신 행정구역(SHP) 지도는 KATEC 계열로 네이버지도에서 사용중인 좌표계 UTM-K (GRS80) 인데, leaflet 에서 요구하는 좌표계는 전지구 좌표계로 GPS가 사용하는 좌표계 WGS84 경위도이다. 이를 맞춰주면 정상적인 결과를 얻을 수 있다. sido_sf_raw &lt;- sf::read_sf(&quot;data/map/CTPRVN_201311/TL_SCCO_CTPRVN.shp&quot;) from_crs &lt;- &quot;+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs&quot; to_crs &lt;- &quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&quot; sido_sf &lt;- sido_sf_raw %&gt;% mutate(시도명 = iconv(CTP_KOR_NM, from = &quot;CP949&quot;, to = &quot;UTF-8&quot;, toRaw = FALSE)) %&gt;% dplyr::select(-CTP_KOR_NM, -CTP_ENG_NM) %&gt;% st_set_crs(from_crs) %&gt;% st_transform(to_crs) sido_sf %&gt;% leaflet() %&gt;% addTiles() %&gt;% setView(lng=127.7669, lat=35.90776, zoom=6) %&gt;% addProviderTiles(providers$OpenStreetMap) %&gt;% addMarkers(lng=~lon, lat=~lat, popup=~득표) %&gt;% addPolygons(weight = 1,col = &#39;blue&#39;) "],["ggplot-ggsave.html", "4 ggplot 그래프 내보내기", " 4 ggplot 그래프 내보내기 화면에는 제대로 나타나지만 이를 PNG, JPG 파일로 내보내서 저장시킬 경우 다양한 이유로 인해서 원하는 그래프 결과물을 얻을 수 없다. 즉 ggplot()으로 그래프 결과물을 제작한 후에 ggsave() 함수로 그래프를 PNG, JPG 파일로 내보낼 경우 글꼴, 종횡비 등 다양한 원인으로 위와 같은 원치않는 결과를 얻게 된다. 글꼴, 글꼴 크기 종횡비 … 이런 문제를 해결하기 위해서 ragg 팩키지 agg_png() 함수를 사용해서 이런 문제를 극복해낸다. mm 단위로 297 X 210은 가장 많이 사용되는 A4용지가 된다. 즉, ggplot 그래프를 A4 용지에 뽑아낼 경우를 상정하고 png 파일로 저장시킨다. library(tidyverse) library(palmerpenguins) plt &lt;- penguins %&gt;% ggplot(aes(bill_length_mm, bill_depth_mm, color = species)) + geom_point()+ geom_text(x = 45, y = 20, label = &quot;Example of font problem&quot;, size = 15/.pt, inherit.aes = FALSE) + labs(title = &quot;Bill length and depth relation by species&quot;) + theme(plot.title = element_text(size = 15)) ragg::agg_png(&quot;fig/ragg_penguins_a4.png&quot;, width = 297, height = 210, units = &quot;mm&quot;, res = 600) plt dev.off() png 2 로컬파일에 저장시킨 그래프 이미지 파일을 살펴보자. "],["github-link.html", "5 github 저장소 연결 5.1 R 프로젝트 5.2 로컬 git 저장소 5.3 원격 github 저장소 5.4 로컬과 원격 저장소 연결", " 5 github 저장소 연결 R 팩키지, distill, blogdown, bookdown, shiny, flexdashboard 등 다양한 프로젝트로 로컬 컴퓨터에 데이터 과학 제품 개발 작업을 수행한다. 이런 경우 다양한 데이터 과학 프로젝트를 공유와 협업 혹은 백업 목적으로 github 웹사이트에 저장소를 만드는 경우가 매우 많다. 이런 경우 로컬 git 저장소와 원격 github 저장소를 연결할 경우 다음 과정을 통해 동기화 시킨다. 5.1 R 프로젝트 R 팩키지, distill, blogdown, bookdown, shiny, flexdashboard 등 다양한 데이터 과학 과제를 R 프로젝트로 생성한다. 5.2 로컬 git 저장소 준비한 R 프로젝트를 git init 명령어로 로컬 git 저장소를 생성하고 git 작업흐름에 맞춰 작업한다. $ git init $ git add . $ git commit -m ‘initial commit’ 5.3 원격 github 저장소 github 웹사이트에서 원격 저장소를 절차를 거쳐 생성한다. 5.4 로컬과 원격 저장소 연결 마지막으로, 원격 저장소를 로컬 저장소와 다음 명령어로 연결시키고 연결된 네트워크 정보를 바탕으로 로컬 저장소에서 작업한 사항을 원격 저장소로 보낸다. $ git remote add origin git@github.com:XXXXXcarpentry/demographics.git # 로컬 저장소를 원격저장소와 연결 $ git remote -v # 연결된 사항 확인 $ git push --set-upstream origin master # 로컬 개발 사항 원격 저장소에 푸쉬(공유) "],["r-upgrade.html", "6 R 버전 바꾸기(R 4.2.0 → R 4.1.3)", " 6 R 버전 바꾸기(R 4.2.0 → R 4.1.3) 공식적으로 R 4.2 버젼이 공개되었습니다. 그동안 UTF-8 로케일로 인해 그동안 고통받았던 인코딩으로부터 진정한 자유를 누릴 수 있을 듯 싶습니다. 다운로드 R 4.2. 버전 신규 기능 특히 눈에 띄는 몇가지 기능은 바로 R 4.2. 버젼으로 업그레이드를 유혹하지만, 그동안 작성한 코드가 돌지 않을 것 같은 불안감에 선듯 나서지 못하는 분들도 많다. 실제로 R 4.2. 버전으로 판올림한 이후 4.1.X에서 잘돌던 코드가 제대로 동작하지 않아서 나감했기 때문에 본 게시글을 작성하게 되었다. 해결 방법은 여러가지 있을 듯 싶지만, 아무래도 가장 확실한 방법은 이전 R 버전 즉 4.1.X 로 되돌아가서 코드를 다시 돌리는 것이 확실할 듯 싶다. RStudio IDE로 개발을 주로 하기 때문에 우선 돌아가고자 하는 R 버전 예를 들어 R 4.1.3. 버전을 설치한다. 그렇게 되면 R 엔진이 두개 존재하게 되고 RStudio를 실행할 때 컨트롤 + 마우스 클릭을 하게 되면 실행할 R 버전을 선택할 수 있게 된다. 이와 같이 실행하면 다음과 같이 RStudio에 연결된 R 버젼이 이전 버전으로 돌아간 것을 확인할 수 있다. R version 4.1.3 (2022-03-10) -- &quot;One Push-Up&quot; Copyright (C) 2022 The R Foundation for Statistical Computing Platform: x86_64-w64-mingw32/x64 (64-bit) R is free software and comes with ABSOLUTELY NO WARRANTY. You are welcome to redistribute it under certain conditions. Type &#39;license()&#39; or &#39;licence()&#39; for distribution details. R is a collaborative project with many contributors. Type &#39;contributors()&#39; for more information and &#39;citation()&#39; on how to cite R or R packages in publications. Type &#39;demo()&#39; for some demos, &#39;help()&#39; for on-line help, or &#39;help.start()&#39; for an HTML browser interface to help. Type &#39;q()&#39; to quit R. &gt; Changing R versions for the RStudio Desktop IDE "],["참고문헌.html", "참고문헌", " 참고문헌 한국 주요 좌표계 EPSG코드 및 proj4 인자 정리, OSGeo(Open Source GeoSpatial) 한국어 지부↩︎ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
